# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type Api {
  liveEndpoint: String
  models: [EntityModel!]!
  mutations: [String!]!
  queries: [String!]!
  sandboxEndpoint: String
  subscriptions: [String!]!
}

type AppConfig {
  appEntryComponentId: ObjectId
  variables: [AppVariable!]!
}

type AppVariable {
  _id: ObjectId!
  name: String!
  type: String!
}

type Auth {
  _id: ObjectId!
  allowUnauthenticatedUsers: Boolean!
  clientRefreshTokenValidity: Float!
  defaultPasswordPolicy: Boolean!
  emailVerificationMessage: String!
  emailVerificationSubject: String!
  mfaConfiguration: String!
  mfaEnabled: Boolean!
  mfaTypes: String!
  passwordFieldId: String!
  passwordPolicyMinLength: Float!
  passwordRequiresNumbers: Boolean!
  passwordRequiresSymbols: Boolean!
  passwordRequiresUppercase: Boolean!
  requiredAttributes: [String!]!
  requiresAuth: Boolean!
  smsAuthenticationMessage: String!
  smsVerificationMessage: String!
  tableId: String!
  usernameCaseSensitive: Boolean!
  usernameFieldId: String!
}

type DataAuth {
  allow: String!
  groupClaim: String!
  groups: [String!]!
  groupsField: String!
  identityClaim: String!
  operations: [String!]!
  ownerField: String!
  provider: String!
}

type DataField {
  _id: ObjectId!
  connection: Boolean
  dataType: String!
  fieldName: String!
  isHashed: Boolean!
  isList: Boolean
  isUnique: Boolean!
  keys: [Key!]!
  nullable: Boolean!
  rules: [DataAuth!]!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type EntityModel {
  _id: ObjectId!
  auth: [DataAuth!]!
  fields: [DataField!]!
  isLocal: Boolean!
  keys: [Key!]!
  name: String!
}

type Invitation {
  _id: ObjectId!
  acceptedDate: DateTime
  organizationId: ObjectId!
  userEmail: String!
}

type Key {
  fieldNames: [String!]!
  name: String!
}

type LoginOutputType {
  sessionId: String!
  token: String!
}

type Mutation {
  acceptInvitaion(invitationId: ObjectId!): Boolean!
  changePassword(newPassword: String!, oldPassword: String!): Boolean!
  createOrganization(organization: OrganizationInput!): Organization!
  createProject(project: ProjectInput!): Project!
  createUser(user: UserInput!): User!
  deleteInvitation(email: String!, organizationId: ObjectId!): Boolean!
  deleteOrganization(organizationId: ObjectId!): ObjectId!
  deleteProject(projectId: ObjectId!): ObjectId!
  forgotPassword(email: String!): Boolean!
  inviteMember(email: String!, organizationId: ObjectId!, sendInvite: Boolean): Invitation!
  login(email: String!, password: String!): LoginOutputType!
  logout: Boolean!
  register(email: String!, password: String!): User!
  resetPassword(newPassword: String!, token: String!): Boolean!
  updateMe(userInput: UserInput!): User!
  updateProject(project: UpdateProjectInput!, projectId: ObjectId!): Project!
  updateServerVersion(projectId: ObjectId!, sandbox: Boolean!, version: String!): Boolean!
}

"""Mongo object id scalar type"""
scalar ObjectId

type Organization {
  _id: ObjectId!
  avatar: String
  invitees: Invitation!
  members: [User!]!
  name: String!
  owner: User!
  projects: [Project!]!
  teams: [Team!]!
}

input OrganizationInput {
  name: String!
}

type Project {
  _id: ObjectId!
  appConfig: AppConfig!
  appId: String!
  projectName: String!
  serverConfig: ServerConfig!
  teams: Team!
}

input ProjectInput {
  organizationId: ObjectId!
  projectDescription: String!
  projectName: String!
  proprietorId: ObjectId!
  proprietorType: ObjectId!
}

type Query {
  getDockerhubVersions(projectId: ObjectId!): [String!]!
  getProject(projectId: ObjectId!): Project!
  invitation(invitationId: ObjectId!): Invitation!
  listOrganizations: [Organization!]!
  listProjects: [Project!]!
  me: User
  serverVersionNumber: String
}

type ServerConfig {
  apiConfig: Api!
  authConfig: Auth!
  ec2InstanceId: String
  ec2PublicDns: String
  version: String!
}

type Team {
  _id: ObjectId!
  members: [User!]!
  name: String!
  owner: User!
}

input UpdateProjectInput {
  projectName: String
}

type User {
  _id: ObjectId!
  avatar: String
  displayName: String
  email: String!
  invitations: [Invitation!]!
  lastLogin: DateTime
  organizations: [Organization!]!
  projects: [Project!]!
  status: String!
  userRole: String!
}

input UserInput {
  email: String!
  fullName: String
}
